21.09 - 28.09  лекция 4-5
# Оглавление
1. [Условный оператор if](#условный-оператор-if)
2. [Оператор выбора select case](#оператор-выбора-select-case)
3. [Оператор do](#оператор-do)
4. [Implicit loop - неявный цикл](#implicit-loop---неявный-цикл)
5. [Оператор цикла do while - Цикл с предусловием]([#оператор-цикла-do-while---цикл-с-предусловием)
6. [Оператор цикла do - Цикл с постусловием](#оператор-цикла-do---цикл-с-постусловием)
7. [Управление циклами](#управление-циклами)
8. [Бесконечные циклы](#бесконечные-циклы)
9. [Псевдослучайные числа](#псевдослучайные-числа)

## Управляющие операторы

### Условный оператор if

Способы создания конструкции
```
1.
имя:  if (условие) then
        операторы_Т
      else
        операторы_F
      end if имя

2.
имя:  if (условие) then
        операторы_Т
      end if имя

3.
      if (условие) Оператор_Т
! или
     if (условие) &
        Оператор_Т
```

### Оператор выбора select case
```
select case (выражение)
        case (множество_значений_1)
          операторы
        case (множество_значений_1)
          операторы
        case default
          операторы
end select
```
Выражений должно быть целого, символьного илил логического типа

Переменные-флаги - хранят результаты проверок

Пример, как их можно избежать
```
read(*, *) op

calc: block
        select case (op)
                case ('+'); res = a+b
                case ('+'); res = a+b
                case ('+'); res = a+b
                case ('+'); res = a+b
                case default
                        write (ERROR_UNIT, *) "ERROR!"
                        exit calc
        end select
        write (*, *) "Result ...", res
end block calc
```

### Оператор do

```
имя do переменная = начало, конец, шаг
  операторы ! ----- тело цикла
end do имя
```
Переменная может быть целого или вещественного типов

Схема выполнения:
- переменной цикла присваивается начальное значение
- Выполнение тела цикла
- Переменная цикла увеличивается на шаг цикла
- Если переменная цикла больше конечного значения, то цикл завершает работу, иначе шаг 2

Примеры:
```
do k = 1, 15         ! цикл выполнится 15 раз
                     ! на последней итреации цикла k=15
do k = 1, 50, 2      ! цикл выполнится 25 раз
                     ! на последней итреации цикла k=49

do k = 30, -10, -4   ! цикл выполнится 11 раз
                     ! на последней итреации цикла k=-10
```
Все переменные, связанные с циклом, стоит инициализировать до цикла.

### Implicit loop - неявный цикл
Неявный цикл - арифметические выражения, заданные через запятую
```
s = Sum([(k**2 / (k+ 1.), k = 1, 10)])

k**2 / (k+ 1.) - что повторять
k = 1 - начальное значение переменной
10 - до куда шагать
```

### Оператор цикла do while - Цикл с предусловием
```
имя цикла: do while (логическое условие)
  операторы
end do имя цикла
```
Пример
```
program summa
real :: sum = 0, slag
k = 0
  slag = 1.0/(k**3 + k**2 + 1)
  do while (slag>0.0005)
    sum = sum + slag
    k = k + 1
    slag = 1.0/(k**3 + k**2 + 1)
  end do
end
```
Но в данном случае лучше использовать цикл с постусловием

### Оператор цикла do - Цикл с постусловием
```
имя цикла: do
  операторы
  if (логическое условие)
    exit
end do имя цикла
```
Пример
```
program summa
real :: sum = 0, slag
k = 0
  do
    k = k + 1
    slag = 1.0/(k **3 + k **2 + 1)
    sum = sum + slag
    if(slag>0.0005)
      exit
  end do
end
```

### Управление циклами

Оператор exit - прекращение выполнения цикла

Оператор cycle - переход к следующей итерации

`write(*,*)` - вывод пустой строки

cycle и exit увеличивают сложность кода

### Бесконечные циклы
```
do
 операторы
end do
```
Используем циклы с постусловием либо с предусловие, или параметризованные циклы
```
!Вот так не делать!!!
do
  операторы
  if (условие) exit
  операторы
end do
```

## Псевдослучайные числа
Случайные потому, что в определенный момент они начнут повторяться, но промежуток может быть очень большим

```
call random(x) 0.0 <= x <= 1.0
call random_number(x)


real x
integer R

call random(x); R = int(x*10)        ! [0;9]
call random(x); R = int(x*11) - 5    ! [-5;5]
call random(x); R = int(x*6)*10      ! 0,10,20,30,40,50
```
